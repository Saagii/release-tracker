{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/modules/shared/services/status.service\";\nimport * as i2 from \"../../../services/projects.service\";\nimport * as i3 from \"../../../services/clients.service\";\nimport * as i4 from \"../../../services/members.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/menu\";\nconst _c0 = a0 => [a0];\nfunction ProjectsComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementStart(7, \"span\", 17);\n    i0.ɵɵtext(8, \"Members\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 11)(12, \"span\", 18);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 12)(15, \"button\", 19)(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"more_vert\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"mat-menu\", null, 20)(20, \"button\", 21);\n    i0.ɵɵtext(21, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 21);\n    i0.ɵɵtext(23, \"Edit\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const project_r2 = ctx.$implicit;\n    const _r3 = i0.ɵɵreference(19);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, project_r2._id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(project_r2.projectName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.filterRequiredIds(\"client\", project_r2.clientId));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", project_r2.teamMembers.length, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate((project_r2 == null ? null : project_r2.projectManagerDetails) ? (project_r2 == null ? null : project_r2.projectManagerDetails == null ? null : project_r2.projectManagerDetails.firstName) + \" \" + (project_r2 == null ? null : project_r2.projectManagerDetails.lastName) : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.getStatusStyle(ctx_r0.filterRequiredIds(\"status\", project_r2.statusId)));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.filterRequiredIds(\"status\", project_r2.statusId));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r3);\n  }\n}\nfunction ProjectsComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"** Projects Not Added. **\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ProjectsComponent = /*#__PURE__*/(() => {\n  class ProjectsComponent {\n    constructor(statusService, projectsService, clientsService, membersService) {\n      this.statusService = statusService;\n      this.projectsService = projectsService;\n      this.clientsService = clientsService;\n      this.membersService = membersService;\n      this.projectCount = 0;\n    }\n    ngOnInit() {\n      // Get Clients list.\n      this.getClientsList();\n      // Get project configurations.\n      this.getProjectConfigurations();\n    }\n    /*\n      Get Status Style\n    */\n    getStatusStyle(statusValue) {\n      return this.statusService.getStatusStyle(statusValue);\n    }\n    /*\n      Get Clients List.\n    */\n    getClientsList() {\n      this.clientsService.getClientsList().subscribe(response => {\n        console.log(response);\n        this.clientsList = response;\n        // Get projects list.\n        this.getProjectsList();\n      });\n    }\n    /*\n      Get Project Configurations.\n    */\n    getProjectConfigurations() {\n      this.projectsService.getProjectsConfig().subscribe(projectConfig => {\n        console.log(projectConfig);\n        this.projectConfig = projectConfig;\n      });\n    }\n    /*\n      Get projects list.\n    */\n    getProjectsList() {\n      this.projectsService.getProjectsList().subscribe(projectsList => {\n        console.log(projectsList);\n        this.projectsList = projectsList;\n        this.getMemberDetails();\n      });\n    }\n    /*\n      Get Members List.\n    */\n    getMemberDetails() {\n      if (this.projectCount < this.projectsList.length) {\n        this.membersService.getMemberDetails(this.projectsList[this.projectCount].projectManagerId).subscribe(response => {\n          console.log(response);\n          this.projectsList[this.projectCount]['projectManagerDetails'] = response;\n          // Count Increment.\n          this.projectCount = this.projectCount + 1;\n          // Call method again until count is greater than the projects list length.\n          this.getMemberDetails();\n        });\n      } else {\n        console.log(this.projectsList);\n      }\n    }\n    /*\n      Filter clients, release config IDs.\n    */\n    filterRequiredIds(type, id) {\n      // Return client name.\n      if (type === 'client') {\n        return this.clientsList.filter(client => {\n          return client._id === id;\n        })[0].clientName;\n      }\n      // Return project status.\n      if (type === 'status') {\n        return this.projectConfig.status.filter(status => {\n          return status._id === id;\n        })[0].value;\n      }\n    }\n    static #_ = this.ɵfac = function ProjectsComponent_Factory(t) {\n      return new (t || ProjectsComponent)(i0.ɵɵdirectiveInject(i1.StatusService), i0.ɵɵdirectiveInject(i2.ProjectsService), i0.ɵɵdirectiveInject(i3.ClientsService), i0.ɵɵdirectiveInject(i4.MembersService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProjectsComponent,\n      selectors: [[\"app-projects\"]],\n      decls: 27,\n      vars: 2,\n      consts: [[1, \"w-full\", \"flex\", \"items-start\", \"px-4\"], [1, \"w-full\", \"p-3\"], [1, \"w-full\", \"p-3\", \"border\", \"border-gray-200\", \"rounded-md\", \"my-4\"], [1, \"w-full\", \"flex\", \"justify-between\"], [1, \"text-lg\", \"px-3\", \"text-gray-800\"], [1, \"px-3\"], [\"mat-button\", \"\", 1, \"text-xs\"], [1, \"text-lg\", \"-mt-1\", \"-ml-2\"], [1, \"w-full\", \"border\", \"border-gray-200\", \"rounded-md\", \"mt-4\"], [1, \"w-full\", \"flex\", \"bg-gray-100\", \"font-bold\", \"text-xs\", \"text-gray-800\", \"py-3\", \"px-4\", \"rounded-t-md\"], [1, \"w-3/12\"], [1, \"w-2/12\"], [1, \"w-1/12\"], [\"class\", \"w-full flex border-b border-gray-100 p-3 items-center\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"w-full p-10 text-center italic text-gray-500\", 4, \"ngIf\"], [1, \"w-full\", \"flex\", \"border-b\", \"border-gray-100\", \"p-3\", \"items-center\"], [1, \"w-3/12\", \"cursor-pointer\", \"hover:text-blue-600\", 3, \"routerLink\"], [1, \"text-xs\"], [1, \"text-right\", \"text-xs\", \"px-3\", \"rounded-full\", \"uppercase\", 3, \"ngClass\"], [\"mat-icon-button\", \"\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\"], [1, \"w-full\", \"p-10\", \"text-center\", \"italic\", \"text-gray-500\"]],\n      template: function ProjectsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n          i0.ɵɵtext(5, \"Projects\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5)(7, \"button\", 6)(8, \"mat-icon\", 7);\n          i0.ɵɵtext(9, \"filter_list\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(10, \" Filter \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\", 9)(13, \"div\", 10);\n          i0.ɵɵtext(14, \"Project Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 11);\n          i0.ɵɵtext(16, \"Client\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 11);\n          i0.ɵɵtext(18, \"Total Team Members\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"div\", 11);\n          i0.ɵɵtext(20, \"Project Manager\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 11);\n          i0.ɵɵtext(22, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 12);\n          i0.ɵɵtext(24, \"Actions\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(25, ProjectsComponent_div_25_Template, 24, 10, \"div\", 13)(26, ProjectsComponent_div_26_Template, 2, 0, \"div\", 14);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(25);\n          i0.ɵɵproperty(\"ngForOf\", ctx.projectsList);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !(ctx.projectsList == null ? null : ctx.projectsList.length));\n        }\n      },\n      dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i6.RouterLink, i7.MatIcon, i8.MatButton, i8.MatIconButton, i9.MatMenu, i9.MatMenuItem, i9.MatMenuTrigger],\n      encapsulation: 2\n    });\n  }\n  return ProjectsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}